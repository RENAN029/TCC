<div class="email-domains-container">
  <div class="header-section">
    <button routerLink="/admin-dashboard" class="back-button">‚Üê Voltar</button>
    <h1>Gerenciar Dom√≠nios de Email</h1>
    <p>Configure os dom√≠nios de email institucionais permitidos para login</p>
  </div>

  <div class="stats-card">
    <div class="stat-item">
      <div class="stat-number">{{ domains.length }}</div>
      <div class="stat-label">Dom√≠nios Cadastrados</div>
    </div>
    <div class="stat-item">
      <div class="stat-number">{{ getActiveDomainsCount() }}</div>
      <div class="stat-label">Dom√≠nios Ativos</div>
    </div>
  </div>

  <div class="actions-section">
    <button 
      (click)="showAddForm = !showAddForm"
      class="btn btn-primary">
      {{ showAddForm ? '‚úñÔ∏è Cancelar' : '‚ûï Adicionar Dom√≠nio' }}
    </button>
  </div>

  <div *ngIf="showAddForm" class="add-domain-form">
    <h3>Adicionar Novo Dom√≠nio</h3>
    <div class="form-grid">
      <div class="form-group">
        <label for="newDomain">Dom√≠nio de Email *</label>
        <input 
          type="text" 
          id="newDomain"
          [(ngModel)]="newDomain"
          placeholder="@escolar.ifrn.edu.br"
          class="form-input">
        <small>Inclua o s√≠mbolo @ no in√≠cio do dom√≠nio</small>
      </div>

      <div class="form-group">
        <label for="newInstitution">Institui√ß√£o *</label>
        <input 
          type="text" 
          id="newInstitution"
          [(ngModel)]="newInstitution"
          placeholder="IFRN"
          class="form-input">
      </div>
    </div>

    <div class="form-actions">
      <button 
        (click)="addDomain()"
        [disabled]="!newDomain || !newInstitution"
        class="btn btn-success">
        ‚úÖ Adicionar Dom√≠nio
      </button>
    </div>
  </div>

  <div class="domains-list">
    <h3>Dom√≠nios Cadastrados</h3>
    
    <div *ngIf="domains.length === 0" class="no-domains">
      <div class="no-domains-icon">üìß</div>
      <h4>Nenhum dom√≠nio cadastrado</h4>
      <p>Adicione dom√≠nios de email institucionais para permitir o login dos estudantes.</p>
    </div>

    <div *ngFor="let domain of domains" class="domain-card">
      <div class="domain-info">
        <div class="domain-header">
          <h4>{{ domain.domain }}</h4>
          <span [class]="'status-badge ' + (domain.isActive ? 'active' : 'inactive')">
            {{ domain.isActive ? 'Ativo' : 'Inativo' }}
          </span>
        </div>
        <p class="institution">{{ domain.institution }}</p>
        <p class="created-at">
          Cadastrado em: {{ domain.createdAt | date:'dd/MM/yyyy' }}
        </p>
      </div>

      <div class="domain-actions">
        <button 
          (click)="toggleDomainStatus(domain)"
          [class]="domain.isActive ? 'btn btn-warning' : 'btn btn-success'">
          {{ domain.isActive ? '‚è∏Ô∏è Desativar' : '‚ñ∂Ô∏è Ativar' }}
        </button>
        
        <button 
          (click)="deleteDomain(domain)"
          class="btn btn-danger">
          üóëÔ∏è Remover
        </button>
      </div>
    </div>
  </div>

  <div class="info-section">
    <h4>üí° Como funciona:</h4>
    <ul>
      <li>Estudantes s√≥ podem fazer login com emails que terminem nos dom√≠nios ativos listados acima</li>
      <li>Dom√≠nios inativos n√£o s√£o aceitos para novos logins</li>
      <li>Certifique-se de que o dom√≠nio inclui o s√≠mbolo @ no in√≠cio</li>
      <li>Exemplo: <code>@escolar.ifrn.edu.br</code></li>
    </ul>
  </div>
</div>